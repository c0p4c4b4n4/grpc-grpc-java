@startuml
title gRPC Java Unary Echo â€“ Client / Server Sequence

actor ClientApp as Client
participant "ManagedChannel\n(localhost:50051)" as Channel
participant "EchoServiceBlockingStub" as Stub
participant "gRPC Server" as Server
participant "EchoServiceImpl" as Service

== Client Setup ==
Client -> Channel: newChannelBuilder(...).build()
Client -> Stub: newBlockingStub(channel)

== Unary RPC Call ==
Client -> Stub: unaryEcho(EchoRequest("world"))
Stub -> Channel: send unary request
Channel -> Server: unaryEcho(EchoRequest)

== Server Processing ==
Server -> Service: unaryEcho(request, responseObserver)
Service -> Service: build EchoResponse("hello world")
Service -> Server: responseObserver.onNext(response)
Service -> Server: responseObserver.onCompleted()

== Response ==
Server -> Channel: EchoResponse
Channel -> Stub: EchoResponse
Stub -> Client: EchoResponse("hello world")

== Shutdown ==
Client -> Channel: shutdown()

@enduml
