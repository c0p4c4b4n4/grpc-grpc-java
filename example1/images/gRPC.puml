@startuml

scale 1.1
skinparam linetype ortho

skinparam rectangle {
  BackgroundColor transparent
  BorderColor black
}

skinparam file {
  BackgroundColor transparent
  BorderColor black
}

skinparam cloud {
  BackgroundColor transparent
  BorderColor black
}

rectangle "Client" as C1
rectangle "Client stub" as C2
rectangle "gRPC runtime" as C3

rectangle "Server" as S1
rectangle "Service stub" as S2
rectangle "gRPC runtime" as S3

file "ProtoBuf" as P
cloud "HTTP/2" as H

C1 -down- C2
C2 -down- C3

S1 -down- S2
S2 -down- S3

C2 --[dotted]right-- P
P --[dotted]right-- S2

C3 --right-- H
H --right-- S3

@enduml
